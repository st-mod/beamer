var e={400:(e,t,n)=>{n(650)},650:(e,t)=>{function n(e,t,n=!1){let i=0,o=!1,r=!1,s=0,l=!1,c=[];const a=[];for(let d=0;d<e.length;d++){if(!0===r){r=!1;continue}const u=e[d];if("line"!==l)if("block"!==l)if("'"!==u){if(o){if("\\"===u){r=!0;continue}}else if("{"!==u&&"["!==u)if("}"!==u&&"]"!==u){if(!(i>0))if(","!==u&&"\n"!==u){if(!(s<d))if(0!==u.trimEnd().length){if("/"===u){const t=e[d+1];if("/"===t){s=d,d++,l="line";continue}if("*"===t){s=d,d++,l="block";continue}}}else s=d+1}else{const n=e.slice(s,d).trimEnd();n.length>0&&(a.push({value:n,index:t+s,comment:c.join("\n")}),c=[]),s=d+1}}else{if(i--,i<0){const n=e.slice(s,d).trimEnd();n.length>0&&(a.push({value:n,index:t+s,comment:c.join("\n")}),c=[]);break}0===i&&(a.push({value:e.slice(s,d+1),index:t+s,comment:c.join("\n")}),c=[],s=d+1)}else if(i++,1===i&&!n){const n=e.slice(s,d).trimEnd();n.length>0&&(a.push({value:n,index:t+s,comment:c.join("\n")}),c=[]),s=d}}else{if(!o){if(o=!0,0===i&&!n){const n=e.slice(s,d).trimEnd();n.length>0&&(a.push({value:n,index:t+s,comment:c.join("\n")}),c=[]),s=d}continue}o=!1,0===i&&(a.push({value:e.slice(s,d+1),index:t+s,comment:c.join("\n")}),c=[],s=d+1)}else"*"===u&&"/"===e[d+1]&&(d++,l=!1,c.push(e.slice(s,d+1).replace(/\n[ ]*/g,"\n ")),s=d+1);else"\n"===u&&(l=!1,c.push(e.slice(s,d).trimEnd()),s=d+1)}if(!o&&0===i&&!1===l){const n=e.slice(s).trimEnd();n.length>0&&a.push({value:n,index:t+s,comment:c.join("\n")})}return a}function i(e,t=!1){let n=0,i=!1,o=!1,r=0,s=!1;const l=[];for(let c=0;c<e.length;c++){if(!0===o){o=!1;continue}const a=e[c];if("line"!==s)if("block"!==s)if("'"!==a){if(i){if("\\"===a){o=!0;continue}}else if("{"!==a&&"["!==a)if("}"!==a&&"]"!==a){if(!(n>0))if(","!==a&&"\n"!==a){if(!(r<c))if(0!==a.trimEnd().length){if("/"===a){const t=e[c+1];if("/"===t){c++,s="line",r=c+1;continue}if("*"===t){c++,s="block",r=c+1;continue}}}else r=c+1}else{const t=e.slice(r,c).trimEnd();t.length>0&&l.push(t),r=c+1}}else{if(n--,n<0){const t=e.slice(r,c).trimEnd();t.length>0&&l.push(t);break}0===n&&(l.push(e.slice(r,c+1)),r=c+1)}else if(n++,1===n&&!t){const t=e.slice(r,c).trimEnd();t.length>0&&l.push(t),r=c}}else{if(!i){if(i=!0,0===n&&!t){const t=e.slice(r,c).trimEnd();t.length>0&&l.push(t),r=c}continue}i=!1,0===n&&(l.push(e.slice(r,c+1)),r=c+1)}else"*"===a&&"/"===e[c+1]&&(c++,s=!1),r=c+1;else"\n"===a&&(s=!1),r=c+1}if(!i&&0===n){const t=e.slice(r).trimEnd();t.length>0&&l.push(t)}return l}function o(e){const t=[];let n=!1;for(const i of e)if(!0!==n)if("\\"!==i){if("'"===i)break;t.push(i)}else n=!0;else n=!1,"\\"!==i&&"'"!==i&&t.push("\\"),t.push(i);return t.join("")}function r(e,t=0,i=""){t+=e.length;const s=function(e,t){if(0===e.length)return;const i=e[0];return"'"===i?o(e.slice(1)):"["===i?function(e,t){return function(e){const t=[];for(const{value:n,index:i,comment:o}of e){const e=r(n,i,o);if(void 0===e)return;t.push(e)}return t}(n(e,t))}(e.slice(1),t+1):"{"===i?function(e,t){return function(e){const t={};for(const{value:n,index:i,comment:o}of e){const e=n.match(/^\s*([\w-]+)/);if(null===e){const e=r(n,i,o);if(void 0===e)return;t.__=e;continue}const s=e[1],l=e[0].length;let c=n.slice(l).trimEnd();if(0===c.length)t[s]={value:!0,index:i+l,comment:o};else{const e=r(c,i+l,o);if(void 0===e)return;t[s]=e}}return t}(n(e,t,!0))}(e.slice(1),t+1):"true"===(e=e.trimEnd())||"false"!==e&&(/^(?:[+-]?Infinity|NaN|0x[\da-fA-F]+|0o[0-7]+|0b[01]+|[+-]?(?:\d*\.?\d+|\d+\.)(?:e[+-]?\d+)?)$/.test(e)?Number(e):/[',{}\[\]\n\r]/.test(e)?void 0:e)}(e=e.trimStart(),t-=e.length);if(void 0!==s)return{value:s,index:t,comment:i}}function s(e){if(0===(e=e.trimStart()).length)return;const t=e[0];return"'"===t?o(e.slice(1)):"["===t?function(e){return function(e){const t=[];for(const n of e){const e=s(n);if(void 0===e)return;t.push(e)}return t}(i(e))}(e.slice(1)):"{"===t?function(e){return function(e){const t={};for(const n of e){const e=n.match(/^\s*([\w-]+)/);if(null===e){const e=s(n);if(void 0===e)return;t.__=e;continue}const i=e[1],o=e[0].length;let r=n.slice(o).trimEnd();if(0===r.length)t[i]=!0;else{const e=s(r);if(void 0===e)return;t[i]=e}}return t}(i(e,!0))}(e.slice(1)):"true"===(e=e.trimEnd())||"false"!==e&&(/^(?:[+-]?Infinity|NaN|0x[\da-fA-F]+|0o[0-7]+|0b[01]+|[+-]?(?:\d*\.?\d+|\d+\.)(?:e[+-]?\d+)?)$/.test(e)?Number(e):/[',{}\[\]\n\r]/.test(e)?void 0:e)}function l(e,t){if(t&&e.length>0&&e[0].trim().length>0&&(1===e.length||e[e.length-1].trim().length>0)&&!/[',{}\[\]\n\r]/.test(e)&&"true"!==e&&"false"!==e&&!/^(?:[+-]?Infinity|NaN|0x[\da-fA-F]+|0o[0-7]+|0b[01]+|[+-]?(?:\d*\.?\d+|\d+\.)(?:e[+-]?\d+)?)$/.test(e)&&!e.startsWith("//")&&!e.startsWith("/*"))return e;const n=["'"];for(let t=0;t<e.length;t++){const i=e[t];if("\\"!==i)"'"!==i?n.push(i):n.push("\\'");else{if(t===e.length-1){n.push("\\\\");break}const o=e[t+1];if("\\"===o||"'"===o){n.push("\\\\");continue}n.push(i)}}return n.push("'"),n.join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.stringifyWithComment=t.parse=t.parseWithIndex=void 0,t.parseWithIndex=r,t.parse=s,t.stringifyWithComment=function e(t,n={}){return void 0===t?"":"number"==typeof t?t.toString():"string"==typeof t?l(t,n.useUnquotedString):!0===t?"true":!1===t?"false":Array.isArray(t)?function(t,{indentTarget:n,indentLevel:i,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:s}){n=n??"none",i=i??0,o=o??"never";const l=[],c=t.length>1&&("all"===n||"array"===n||"arrayInObjectAndThis"===n)||void 0!==t.find((e=>e.comment.length>0)),a=i+(c?1:0);"arrayInObjectAndThis"===n&&(n="arrayInObject");const d="always"===r||"afterComma"===r?", ":",";let u;for(let i=0;i<t.length;i++){const{value:f,comment:p}=t[i];let h;h=void 0===u?e(f,{indentTarget:n,indentLevel:a,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:s}):u,i!==t.length-1&&(u=e(t[i+1].value,{indentTarget:n,indentLevel:a,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:s})),c||i===t.length-1||"always"!==o&&(h.endsWith("'")||h.endsWith("}")||h.endsWith("]")||void 0!==u&&(u.endsWith("'")||u.endsWith("}")||u.endsWith("]")))?(p.length>0&&l.push(...p.split("\n")),l.push(h)):l.push(h+d)}let f="\n";for(let e=0;e<i;e++)f+="    ";let p=f;return i>=0&&(p+="    "),c?"["+p+l.join(p)+f+"]":"["+l.join("")+"]"}(t,n):function(t,{indentTarget:n,indentLevel:i,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:s}){n=n??"none",i=i??0,o=o??"never";const l=[],c=Object.keys(t);let a=c.length>1&&("all"===n||"object"===n);if(!a)for(const e of c){const n=t[e];if(void 0!==n&&n.comment.length>0){a=!0;break}}const d=i+(a?1:0);"arrayInObject"===n&&(n="arrayInObjectAndThis");const u="always"===r||"afterComma"===r?", ":",",f="always"===r||"afterKey"===r?" ":"";for(let i=0;i<c.length;i++){const p=c[i];if(null===p.match(/^[\w-]+$/))continue;const h=t[p];if(void 0===h)continue;const{value:m,comment:g}=h,v=e(m,{indentTarget:n,indentLevel:d,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:"__"===p&&"string"==typeof m?void 0:s});g.length>0&&l.push(...g.split("\n")),v.startsWith("'")||v.startsWith("[")||v.startsWith("{")?a||i===c.length-1||"always"!==o&&"inObject"!==o?l.push(("__"===p?"":p+f)+v):l.push(("__"===p?"":p+f)+v+u):"true"===v?a||i===c.length-1?l.push(p):l.push(p+u):a||i===c.length-1?l.push(p+" "+v):l.push(p+" "+v+u)}let p="\n";for(let e=0;e<i;e++)p+="    ";let h=p;return i>=0&&(h+="    "),a?"{"+h+l.join(h)+p+"}":"{"+l.join("")+"}"}(t,n)},t.stringify=function e(t,n={}){return void 0===t?"":"number"==typeof t?t.toString():"string"==typeof t?l(t,n.useUnquotedString):!0===t?"true":!1===t?"false":Array.isArray(t)?function(t,{indentTarget:n,indentLevel:i,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:s}){n=n??"none",i=i??0,o=o??"never";const l=[],c=t.length>1&&("all"===n||"array"===n||"arrayInObjectAndThis"===n),a=i+(c?1:0);"arrayInObjectAndThis"===n&&(n="arrayInObject");const d="always"===r||"afterComma"===r?", ":",";let u;for(let i=0;i<t.length;i++){let f;f=void 0===u?e(t[i],{indentTarget:n,indentLevel:a,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:s}):u,i!==t.length-1&&(u=e(t[i+1],{indentTarget:n,indentLevel:a,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:s})),c||i===t.length-1||"always"!==o&&(f.endsWith("'")||f.endsWith("}")||f.endsWith("]")||void 0!==u&&(u.endsWith("'")||u.endsWith("}")||u.endsWith("]")))?l.push(f):l.push(f+d)}let f="\n";for(let e=0;e<i;e++)f+="    ";let p=f;return i>=0&&(p+="    "),c?"["+p+l.join(p)+f+"]":"["+l.join("")+"]"}(t,n):function(t,{indentTarget:n,indentLevel:i,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:s}){n=n??"none",i=i??0,o=o??"never";const l=[],c=Object.keys(t),a=c.length>1&&("all"===n||"object"===n),d=i+(a?1:0);"arrayInObject"===n&&(n="arrayInObjectAndThis");const u="always"===r||"afterComma"===r?", ":",",f="always"===r||"afterKey"===r?" ":"";for(let i=0;i<c.length;i++){const p=c[i];if(null===p.match(/^[\w-]+$/))continue;const h=t[p];if(void 0===h)continue;const m=e(h,{indentTarget:n,indentLevel:d,addDecorativeComma:o,addDecorativeSpace:r,useUnquotedString:"__"===p&&"string"==typeof h?void 0:s});m.startsWith("'")||m.startsWith("[")||m.startsWith("{")?a||i===c.length-1||"always"!==o&&"inObject"!==o?l.push(("__"===p?"":p+f)+m):l.push(("__"===p?"":p+f)+m+u):"true"===m?a||i===c.length-1?l.push(p):l.push(p+u):a||i===c.length-1?l.push(p+" "+m):l.push(p+" "+m+u)}let p="\n";for(let e=0;e<i;e++)p+="    ";let h=p;return i>=0&&(h+="    "),a?"{"+h+l.join(h)+p+"}":"{"+l.join("")+"}"}(t,n)}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{function e(e,t){try{return new URL(e,t).href}catch(t){return console.log(t),e}}function t(e,t,n){const i=n[t];return void 0===i?[]:i[e]??[]}function o(e,n,i){const o=t(e,n,i);if(0!==o.length)return o[o.length-1]}n.d(i,{mH:()=>E,Wi:()=>O,oL:()=>g,Kl:()=>$,_R:()=>x}),n(650),n(400);class r{constructor(e,t=[]){this.element=document.createElement(e),this.classList=this.element.classList,this.style=this.element.style,this.dataset=this.element.dataset,this.childNodes=this.element.childNodes,this.children=this.element.children;for(const e of t)if(e.length>0)try{this.element.classList.add(e.replace(/\s/g,"-"))}catch(e){console.log(e)}}append(...e){return this.element.append(...e.map((e=>e instanceof r?e.element:e))),this}prepend(...e){return this.element.prepend(...e.map((e=>e instanceof r?e.element:e))),this}after(...e){return this.element.after(...e.map((e=>e instanceof r?e.element:e))),this}before(...e){return this.element.before(...e.map((e=>e instanceof r?e.element:e))),this}setText(e){return this.element.textContent=e,this}setHTML(e){return this.element.innerHTML=e,this}scrollBy(e){return this.element.scrollBy(e),this}scrollIntoView(e){return this.element.scrollIntoView(e),this}getBoundingClientRect(){return this.element.getBoundingClientRect()}getClientRects(){return this.element.getClientRects()}setAttribute(e,t){try{this.element.setAttribute(e,t)}catch(e){console.log(e)}return this}removeAttribute(e){return this.element.removeAttribute(e),this}getAttribute(e){return this.element.getAttribute(e)}hasAttribute(e){return this.element.hasAttribute(e)}}class s extends r{constructor(e=[]){super("div",e)}addEventListener(e,t,n){return this.element.addEventListener(e,t,n),this}}class l extends r{constructor(e=[]){super("span",e)}addEventListener(e,t,n){return this.element.addEventListener(e,t,n),this}}class c{constructor(e){this.context=e,this.unitToCompiling=new Map}async compileUnit(n){if(!0===this.unitToCompiling.get(n))return c.createErrorElement("Loop");if("global"===n.tag||!0===n.options.global)return new s(["unit","global"]).element;this.unitToCompiling.set(n,!0);let i=n.options["compile-with"]??o("compile-with",n.tag,this.context.tagToGlobalOptions);"string"==typeof i&&0!==i.length||(i=n.tag);const r=this.context.tagToUnitCompiler[i];let l;if(void 0!==r){try{l=await r(n,this)}catch(e){console.log(e),l=c.createErrorElement("Broken")}if(l.classList.contains("warn"))return l.classList.add("unit"),this.unitToCompiling.set(n,!1),l}else{let e;c.supportedHTMLTags.includes(i)?(l=document.createElement(i),e=c.supportedHTMLTagsWithInlineChildren.includes(i)?await this.compileInlineSTDN(n.children):await this.compileSTDN(n.children)):c.supportedSVGTags.includes(i)?(l=document.createElementNS("http://www.w3.org/2000/svg",i),e=await this.compileInlineSTDN(n.children)):(l=document.createElement("div"),e=await this.compileSTDN(n.children)),l.append(e)}l.classList.add("unit");try{l.classList.add(i),"string"==typeof n.options.class&&l.classList.add(...n.options.class.trim().split(/\s+/));for(const e of t("class",n.tag,this.context.tagToGlobalOptions))"string"==typeof e&&l.classList.add(...e.trim().split(/\s+/))}catch(e){console.log(e)}const a=this.context.unitToId.get(n);void 0!==a&&(l.id=a);for(const t of Object.keys(n.options)){if("id"===t||"class"===t)continue;let i=t;if(t.startsWith("data-")||c.supportedHTMLAttributes.includes(t)||(i=`data-${t}`),l.hasAttribute(i))continue;let o=n.options[t];if(!0===o?o="":"number"==typeof o&&(o=o.toString()),"string"==typeof o){this.context.dir.length>0&&("src"===i||"href"===i)&&(!(d=o).startsWith("#")&&!/^[a-z][a-z0-9+.-]*:/i.test(d))&&(o=e(o,this.context.dir));try{l.setAttribute(i,o)}catch(e){console.log(e)}}}var d;return this.unitToCompiling.set(n,!1),l}async compileInline(e){return"string"!=typeof e?await this.compileUnit(e):new Text(e)}async compileLine(e){const t=new DocumentFragment;for(const n of e)t.append(await this.compileInline(n));return t}async compileInlineSTDN(e){const t=new DocumentFragment;for(let n=0;n<e.length;n++)t.append(await this.compileLine(e[n])),n!==e.length-1&&t.append(new Text("\n"));return t}async compileSTDN(e){const t=new DocumentFragment;for(const n of e)t.append(new s(["st-line"]).append(await this.compileLine(n)).element);return t}static createErrorElement(e){return new l(["unit","warn"]).setText(e).element}}function a(e){let t="";for(const n of e)t+="string"!=typeof n?function(e){for(const t of e){const e=a(t);if(e.length>0)return e}return""}(n.children):n;return t}c.supportedHTMLTags=["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","iframe","del","ins","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],c.supportedHTMLTagsWithInlineChildren=["a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","audio","img","track","video","iframe","del","ins","col","colgroup","table","tbody","tfoot","thead","tr"],c.supportedSVGTags=["animate","animateMotion","circle","clipPath","ellipse","foreignObject","g","image","mask","path","pattern","rect","svg","text","textPath","tspan","use"],c.supportedHTMLAttributes=["accesskey","align","allow","alt","autoplay","cite","class","cols","colspan","controls","coords","crossorigin","datetime","decoding","default","dir","download","draggable","for","headers","href","hreflang","id","kind","label","lang","loop","muted","name","open","ping","poster","preload","referrerpolicy","rel","reversed","rows","rowspan","sandbox","scope","span","spellcheck","src","srcdoc","srclang","srcset","start","style","tabindex","target","title","translate","usemap","value","attributeName","begin","d","dur","fill","keyPoints","keyTimes","path","preserveAspectRatio","repeatCount","rotate","textLength","values","viewBox","x","y","width","height"];const d=[];let u=0;const f=[];let p=-1;function h(e){u===e&&-1!==p||(f[++p]=u=e,f[p+1]=void 0),d[u].scrollIntoView()}let m=!1;function g(){addEventListener("keydown",(e=>{if(0!==d.length)if("Enter"!==e.key){if(m)return"Escape"===e.key?(m=!1,document.documentElement.classList.remove("showing"),void h(u)):"ArrowUp"===e.key||"PageUp"===e.key?(e.preventDefault(),void h((u-1+d.length)%d.length)):"ArrowDown"===e.key||"PageDown"===e.key?(e.preventDefault(),void h((u+1)%d.length)):"ArrowLeft"===e.key?(e.preventDefault(),void function(){let e=f[p-1];void 0!==e&&(u=e,p--,d[u].scrollIntoView())}()):"ArrowRight"===e.key?(e.preventDefault(),void function(){let e=f[p+1];void 0!==e&&(u=e,p++,d[u].scrollIntoView())}()):void 0}else!function(){for(let e=0;e<d.length;e++){const{top:t,height:n}=d[e].getBoundingClientRect();if(t+n/2>=0){document.documentElement.classList.add("showing"),h(e),m=!0;break}}}()})),addEventListener("scroll",(()=>{m&&function(){for(let e=0;e<d.length;e++){const{bottom:t}=d[e].getBoundingClientRect();if(t>1){h(e);break}}}()}))}function v(e,t){for(const n of t)for(const t of n){if("string"==typeof t)continue;if(t.tag===e)return t;for(const n of Object.keys(t.options)){const i=t.options[n];if("object"==typeof i){const t=v(e,i);if(void 0!==t)return t}}const n=v(e,t.children);if(void 0!==n)return n}}function b(e,t){const n=[];for(const i of t)for(const t of i)if("string"!=typeof t){t.tag===e&&n.push(t);for(const i of Object.keys(t.options)){const o=t.options[i];"object"==typeof o&&n.push(...b(e,o))}n.push(...b(e,t.children))}return n}function y(e){for(const t of e)if(a(t).length>0)return t;return[]}function w(e){const t=[];for(const n of e.trim().split(/\s+/))if(/^\d+-$/.test(n))t[Number(n.slice(0,-1))-1]=!0;else if(/^\d+$/.test(n)){const e=Number(n);t[e-1]=!0,t[e]=void 0}else if(/^\d+-\d+$/.test(n)){const[e,i]=n.split("-",2).map(Number);for(let n=e-1;n<i;n++)t[n]=!0;t[i]=void 0}else if(/^-\d+$/.test(n)){const e=Number(n.slice(1));for(let n=0;n<e;n++)t[n]=!0;t[e]=void 0}return t}function x(e){const t=[],n=[];for(const[,i,o]of e.matchAll(/((?:\^?-?[_a-zA-Z]+[_a-zA-Z0-9-]*\s+)*)([0-9-][0-9-\s]*)(?:\s+|$)/g))t.push(i),n.push(o);const i=function(e){if(0===e.length)return[];const t=e.map(w),n=Math.max(...t.map((e=>e.length)));if(0===n)return[];for(const e of t)if(e.length<n){const t=e[e.length-1];for(let i=e.length;i<n;i++)e[i]=t}return t}(n);if(0===i.length)return[];const o=i[0].length,r=[];for(let e=0;e<o;e++)r[e]=[];for(let e=0;e<i.length;e++){const n=i[e],o=t[e],s=[],l=[];for(const e of o.trim().split(/\s+/)){if(0===e.length){l.push("invisible");break}e.startsWith("^")?l.push(e.slice(1)):s.push(e)}for(let e=0;e<n.length;e++)n[e]?r[e].push(...s):r[e].push(...l)}return r}function E(e){const t=[];for(const n of e.querySelectorAll("[data-slide]")){const e=n.getAttribute("data-slide");if(null===e)continue;const i=x(e);i.length>0&&t.push({element:n,classesArray:i})}return t}function T(e,t){for(;;){for(;null!==e.nextSibling;)e.nextSibling.remove();if(null===e.parentNode||e.parentNode===t)break;e=e.parentNode}}let L,S=1920,j=1080,A=!1;function k(e){return e.endsWith("px")?Number(e.slice(0,-2)):e.endsWith("cm")?96*Number(e.slice(0,-2))/2.54:e.endsWith("mm")?96*Number(e.slice(0,-2))/25.4:e.endsWith("in")?96*Number(e.slice(0,-2)):e.endsWith("pc")?16*Number(e.slice(0,-2)):e.endsWith("pt")?4*Number(e.slice(0,-2))/3:NaN}function W(e){if(e.endsWith(" landscape")){W(e.slice(0,-10).trim());const t=S;return S=j,void(j=t)}if(e.endsWith(" portrait"))return void W(e.slice(0,-9).trim());if("A5"===e)return S=k("148mm"),void(j=k("210mm"));if("A4"===e)return S=k("210mm"),void(j=k("297mm"));if("A3"===e)return S=k("297mm"),void(j=k("420mm"));if("B5"===e)return S=k("176mm"),void(j=k("250mm"));if("B4"===e)return S=k("250mm"),void(j=k("353mm"));if("JIS-B5"===e)return S=k("182mm"),void(j=k("257mm"));if("JIS-B4"===e)return S=k("257mm"),void(j=k("364mm"));if("letter"===e)return S=k("8.5in"),void(j=k("11in"));if("legal"===e)return S=k("8.5in"),void(j=k("14in"));if("ledger"===e)return S=k("11in"),void(j=k("17in"));const[t,n]=e.trim().split(/\s+/,2).map(k);if(isFinite(t)&&t>0){if(S=t,void 0===n)return void(j=t);isFinite(n)&&n>0&&(j=n)}}function N(e){if("string"!=typeof e)return;const t=document.createElement("style");document.head.append(t),W(e),t.textContent=`@page{size:${S}px ${j}px}.unit.frame>svg>foreignObject>div{height:${j}px}.unit.frame .unit.outline.compact{max-height:${7*j/9}px}`}let D,C=[],I=0;const O=async(e,t)=>{A||(A=!0,N(o("size","frame",t.context.tagToGlobalOptions)));const n=v("title",e.children);void 0!==n&&(L=n);const i=b("author",e.children);i.length>0&&(C=i);const r=v("date",e.children);void 0!==r&&(D=r),I++;const s=document.createElement("div");for(let n=0;;n++){const i=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),r=document.createElement("div"),l=document.createElement("main"),c=document.createElement("footer"),a=document.createElement("div"),u=document.createElement("div"),f=document.createElement("div"),p=document.createElement("div");s.append(i),i.append(o),o.append(r),r.append(l),r.append(c),l.append(await t.compileSTDN(e.children)),c.append(a),c.append(u),c.append(f),c.append(p),d.push(i),i.setAttribute("viewBox",`0 0 ${S} ${j}`),o.setAttribute("width","100%"),o.setAttribute("height","100%");for(const e of C){const n=document.createElement("span"),{abbr:i}=e.options;"string"==typeof i?n.append(new Text(i)):"object"==typeof i?n.append(await t.compileLine(y(i))):n.append(await t.compileLine(y(e.children))),a.append(n)}if(void 0!==L){const{abbr:e}=L.options;"string"==typeof e?u.append(new Text(e)):"object"==typeof e?u.append(await t.compileLine(y(e))):u.append(await t.compileLine(y(L.children)))}if(void 0!==D){const{abbr:e}=D.options;"string"==typeof e?f.append(new Text(e)):"object"==typeof e?f.append(await t.compileLine(y(e))):f.append(await t.compileLine(y(D.children)))}p.textContent=I.toString();let h=!1;const m=l.querySelectorAll(".unit.pause")[n];void 0!==m&&(T(m,l),h=!0);for(const{element:e,classesArray:t}of E(l))n<t.length-1&&(h=!0),e.classList.add(...t[Math.min(n,t.length-1)]);if(!h)break}return s},_=["download","href","hreflang","ping","referrerpolicy","rel","target","type"];function U(e){for(const t of e.querySelectorAll("a")){const e=document.createElement("span");for(const{name:n,value:i}of t.attributes)if(!_.includes(n))try{e.setAttribute(n,i)}catch(e){console.log(e)}for(const n of t.childNodes)e.append(n);t.replaceWith(e)}return e}const $=async(e,t)=>{const n=!0===e.options.pause,i=document.createElement("ul");let o,r=0,s=0;for(const e of t.context.indexInfoArray){if("heading"!==e.orbit||e.index.length>2)continue;const l=document.createElement("li"),c=document.createElement("a");l.append(c),c.append(U(await t.compileLine(y(e.unit.children)))),c.href=`#${encodeURIComponent(e.id)}`,2!==e.index.length?(o=document.createElement("ul"),i.append(l),l.append(o),r++,s++,n&&r>1&&(l.dataset.slide=`${r}-`)):void 0!==o&&(o.append(l),s++)}return s>12&&i.classList.add("compact"),s>24&&i.classList.add("very-compact"),i}})();var o=i.mH,r=i.Wi,s=i.oL,l=i.Kl,c=i._R;export{o as extractSlidableElements,r as frame,s as listen,l as outline,c as parseSlideStr};